# Salty Reactive Synthesis Example

This is an example of running UxAS in conjunction with code synthesized by Salty and AMASE for simulation. This requires configuring both UxAS and AMASE and defining any messages needed for the scenario that are not generated by the synthesized code. The example here -- `CooperativeSearch` -- demonstrates the expected workflow.

## Files:

* `cfg_CooperativeSearch.xml` - The UxAS configuration file for this scenario. Sets up the necessary UxAS services and messages to send to UxAS.
* `runUxAS_CooperativeSearch.sh` - Runs UxAS with the above configuration file.
* `MessagesToSend/Vehicles/*.xml` - Files containing the messages that define initial AirVehicleConfiguration and AirVehicleState information for vehicles in the scenario.
* `MessagesToSend/Tasks/*.xml` - Files containing messages that define tasks that will be performed throughout the scenario, and files that contain auxiliary messages related to the tasks. Generally, the synthesized code will generate AutomationRequest messages that reference these tasks and auxiliary files.
* `Scenario_CooperativeSearch.xml` - Sets up AMASE. AirVehicleConfigurations and AirVehicleStates should match the corresponding messages in `MessagesToSend/Vehicles`.
* `runAMASE_CooperativeSearch.sh` - Runs AMASE with the above configuration file.

## Running the Example:
Generally, you will run a script one directory above this one that starts the scripts `runUxAS_CooperativeSearch.sh` and `runAMASE_CooperativeSearch.sh`. But you can run them alone to make sure they work using the following steps:

1. Open a terminal window in this directory
2. Run the command: `./runUxAS_CooperativeSearch.sh`
3. Open another terminal window in this directory
4. Run the command: `runAMASE_CooperativeSearch.sh`
5. Press the play button in the AMASE simulation

Without the synthesized Salty code running, the simulation will not do much; the vehicles will simply move along their current headings. However, you should see task areas and operating regions, and you can send in a test AutomationRequest if you edit `cfg_CooperativeSearch.xml` and `MessagesToSend/Tasks/AutomationRequest_Test.xml` (see comments in those files).


